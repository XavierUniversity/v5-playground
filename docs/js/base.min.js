function trapEscapeKey(a,b){if(27==b.which){a.find("*").filter(".drawer-close").click(),b.preventDefault()}}function trapTabKey(a,b){if(9==b.which){var c,d=a.find("*");c=d.filter(focusableElementsString).filter(":visible");var e;e=jQuery(":focus");var f;f=c.length;var g;g=c.index(e),b.shiftKey?0===g&&(c.get(f-1).focus(),b.preventDefault()):g==f-1&&(c.get(0).focus(),b.preventDefault())}}function setFocusToFirstItem(a){a.find("*").filter(focusableElementsString).filter(":visible").first().focus()}function openDrawer(a){"main-nav"==a.attr("id")&&jQuery("body").addClass("nav-open"),jQuery(a).addClass("visible"),jQuery(a).attr("aria-hidden",!1),jQuery("#content").attr("aria-hidden",!0),jQuery("body").on("focusin","#content",function(){setFocusToFirstItem(jQuery(a))}),focusedElementBeforeModal=jQuery(":focus"),setFocusToFirstItem(a)}function closeDrawer(){jQuery("body").removeClass("nav-open"),jQuery(".drawer").removeClass("visible"),jQuery(".drawer").attr("aria-hidden",!0),jQuery("#content").attr("aria-hidden",!1),jQuery("body").off("focusin","#content"),focusedElementBeforeModal.focus()}function getDistance(){return h.offsetTop}function toggleState(a,b){var a=document.querySelectorAll(a);a&&a.forEach(function(a){a.classList.toggle(b)})}function toggleStateEvent(a){a.preventDefault(),toggleState(a.target.getAttribute("data-toggle"),"visible"),a.target.classList.toggle("on")}var focusableElementsString="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",focusedElementBeforeModal,id;jQuery(".drawer-open").click(function(a){a.preventDefault(),id=$(this).data("controls"),openDrawer($("#"+id))}),jQuery(".drawer-close").click(function(a){closeDrawer()}),jQuery(".drawer").keydown(function(a){trapEscapeKey($(this),a)}),jQuery(".drawer").keydown(function(a){trapTabKey($(this),a)}),jQuery("#overlay").click(function(a){closeDrawer()});var h=document.getElementById("header"),stuck=!1,stickPoint=getDistance();window.onscroll=function(a){var b=getDistance()-window.pageYOffset,c=window.pageYOffset;b<0&&!stuck?(h.classList.add("header--fixed"),stuck=!0):stuck&&c<=stickPoint&&(h.classList.remove("header--fixed"),stuck=!1)},document.addEventListener("click",toggleStateEvent);