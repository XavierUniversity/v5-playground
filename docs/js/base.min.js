var items=[];if($("#announcements").length)var audience=$("#announcements").data("audience").toLowerCase()?$("#announcements").data("audience").toLowerCase():"all",announcements=$.getJSON("/announcements/json/announcements.json",{_:(new Date).getTime()},function(e){$.each(e,function(e,a){var t="",s=new Date(a.created),n=(new Date).getTime()-s.getTime(),i=Math.floor(n/864e5),r=Math.floor(n/36e5);if(0<=a.audience.toLowerCase().indexOf(audience)||"all"==audience){var c=(r<=24?r+" hour(s)":i+" day(s)")+" ago";t='<button class="o-btn tabs__title accordion__btn" data-toggle="#'+a.id+'" role="tab">'+a.title+" - "+c+'<svg class="icon accordion__icon accordion__icon--plus"><use xlink:href="#xu-plus"></use></svg><svg class="icon accordion__icon accordion__icon--minus"><use xlink:href="#xu-minus"></use></svg></button>',t+="<div class='accordion__content' id='"+a.id+"' role='tabpanel'>",t+="<p>Posted: "+a.created+"</p>",t+=a.content,t+=""!==a.link?'<p><a href="'+a.link+'" title="Additional information for '+a.title+'">Additional information</a></p>':"",t+="<p class='text--right'><a href='/announcements/flag?="+a.id+"' title='"+a.title+"'>Report announcement</a></p>",t+="</div>"}items.push(t)}),1<=items.length?$("#announcements").append(items):$("#announcements").append('<div class="alert alert--info"><div class="alert--info__icon"><span class="fa" aria-hidden="true"></span></div><div class="alert__content"><p>There are no announcements at this time.</p></div></div>')});function detectmob(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}void 0!==$('meta[property="id"]').attr("content")&&$("#editorAccess").attr("href","https://cascade.xavier.edu/entity/open.act?id="+$('meta[property="id"]').attr("content")+"&type=page"),$(".track").on("click",function(e){var a=$(this),t=a.data("category")?a.data("category"):"link",s=a.data("action")?a.data("action"):"click",n=a.data("label")?a.data("label"):a.text();dataLayer.push({event:"customEvent",eventCategory:t,eventAction:s,eventLabel:n})});var instas=$("[data-image]");if(0<instas.length)for(var i=0;i<instas.length;i++){var insta=$(instas[i]).data("image");$.get("https://api.instagram.com/oembed?url="+insta+"&hidecaption=true&omitscript=true",function(e){var a=$("[data-image='"+insta+"']");a.css({"background-image":'url("'+insta+'media?size=l")',"background-size":"cover"}),a.find(".news--feature__content").attr("href",insta),a.find(".news--feature__name").html('<span class="news--feature__link"><svg height="45" width="46"><use xlink:href="#xu-instagram"></use></svg>'+e.author_name+"</span>"),a.find(".news--feature__caption").html(e.title.slice(0,100)+(100<e.title.length?"&hellip;":""))})}$(".ajax-logout").on("click",function(e){e.preventDefault(),url=$(this).data("url"),$.ajax({type:"POST",url:url,data:{action:$(this).data("action"),token:$(this).data("token")}}).always(function(e,a,t){window.location.href="/"+e.destination+"/"})});var focusedElementBeforeModal,id,focusableElementsString="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";function trapEscapeKey(e,a){27==a.which&&(e.find("*").filter(".drawer-close").click(),a.preventDefault())}function trapTabKey(e,a){var t,s,n,i;9==a.which&&(t=e.find("*").filter(focusableElementsString).filter(":visible"),s=jQuery(":focus"),n=t.length,i=t.index(s),a.shiftKey?0===i&&(t.get(n-1).focus(),a.preventDefault()):i==n-1&&(t.get(0).focus(),a.preventDefault()))}function setFocusToFirstItem(e){var a=e.find("*");setTimeout(function(){a.filter(focusableElementsString).filter(":visible").first().focus()},250)}function openDrawer(e){"main-nav"==e.attr("id")&&jQuery("body").addClass("nav-open"),jQuery(e).addClass("visible"),jQuery(e).attr("aria-hidden",!1),jQuery("#content").attr("aria-hidden",!0),jQuery("body").on("focusin","#content",function(){setFocusToFirstItem(jQuery(e))}),focusedElementBeforeModal=jQuery(":focus"),setFocusToFirstItem(e)}function closeDrawer(){jQuery("body").removeClass("nav-open"),jQuery(".drawer").removeClass("visible"),jQuery(".drawer").attr("aria-hidden",!0),jQuery("#content").attr("aria-hidden",!1),jQuery("body").off("focusin","#content"),focusedElementBeforeModal.focus()}function delay(t,s){var n=0;return function(){var e=this,a=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(e,a)},s||0)}}function searchArray(e,a,t){for(var s=0;s<t.length;s++)if(t[s][a]===e)return t[s]}function buildTabs(e,a){var t="";1<e.length&&($.each(e,function(e,a){t+='<li class="search__facet-item"><a class="search__facet-link'+(1==a.selected?" is-active":"")+'" href="'+a.toggleUrl+'">'+a.label+'</a><span class="search__facet-count">'+a.count+"</span></li>"}),$("#search-tabs").html(t))}function buildResult(e){var a=e.title.replace(" | Xavier University",""),t='<a href="https://search.xavier.edu'+e.clickTrackingUrl+'" class="search__result">',s="</a>",n='<span class="search__url">'+e.liveUrl+"</span>",i=e.summary,r="$open";r+='<h2 class="search__title">$title</h2>',r+='<p class="search__content">',r+="$liveUrl",r+='<span class="search__description">$description</span>',r+='<span class="search__tag">'+e.collection.replace("xavu-","")+"</span>",void 0!==e.metaData.stencilsCourseLevel&&(r+='<span class="search__tag">'+e.metaData.stencilsCourseLevel+"</span>"),r+="</p>$close";if("xavu-people"==e.collection){t='<div class="search__result">',s="</div>",n="";var c=null!=e.metaData.stencilsPeopleEmail?'<a href="mailto:'+e.metaData.stencilsPeopleEmail+'@xavier.edu" class="search__contact">'+e.metaData.stencilsPeopleEmail+"@xavier.edu</a>":"",o=null!=e.metaData.I?'<img class="search__image" src="'+e.metaData.I+'" alt="" />':"",l=null!=e.metaData.stencilsPeoplePhone?'<span class="search__contact">'+e.metaData.stencilsPeoplePhone+"</span>":"",u=null!=e.metaData.stencilsPeopleLocation?'<span class="search__contact">'+e.metaData.stencilsPeopleLocation+"</span>":"";a='<a href="https://search.xavier.edu'+e.clickTrackingUrl+'">'+e.metaData.stencilsPeopleFirstName+"</a>",i=o+"<strong>"+e.metaData.stencilsPeoplePosition+"</strong><br />"+c+l+u}return"xavu-programs"==e.collection&&(i=e.metaData.stencilsCourseDesc),r=(r=(r=(r=(r=r.replace("$open",t)).replace("$title",a)).replace("$liveUrl",n)).replace("$description",i)).replace("$close",s)}function buildBestBets(e){var a=e.titleHtml,t=e.descriptionHtml,s='<span class="search__url">'+e.displayUrl+"</span>",n=e.linkUrl,i="$open";return i+='<h2 class="search__title">$title</h2>',i+='<p class="search__content">',i+="$liveUrl",i+='<span class="search__description">$description</span>',i=(i=(i=(i=(i=(i+="</p>$close").replace("$open",'<a href="https://search.xavier.edu'+n+'" class="search__result search__result--bet">')).replace("$title",a)).replace("$liveUrl",s)).replace("$description",t)).replace("$close","</a>")}function search(e){var o="";$.ajax({url:"https://search.xavier.edu/s/search.json",method:"GET",data:e}).done(function(e,a){var t=searchArray("Tabs","name",e.response.facets),s=e.response.customData.stencilsPaging,n=e.response.resultPacket.resultsSummary,i=e.response.resultPacket.results;buildTabs(t.allValues),$.each(e.response.curator.exhibits,function(e,a){o+=buildBestBets(a)}),o+='<p class="search__count">Showing results '+n.currStart+"-"+n.currEnd+" out of "+n.totalMatching+" results for: <em>"+e.question.query+"</em></p>",$.each(i,function(e,a){o+=buildResult(a)});var r=null!==s.previousUrl?'<a href="'+s.previousUrl+'" class="search__nav" title="Previous page of search results">Previous</a>':"",c=null!==s.nextUrl?'<a href="'+s.nextUrl+'" class="search__nav" title="Next page of search results">Next</a>':"";1<(o+='<div class="search__nav-container">'+r+c+"</div>").length?($(".search__results").html('<h1 class="sr-only">Search Results</h1>'+o),$(".search__sidebar").addClass("visible"),$(".search__intro").hide()):($(".search__intro").show(),$(".search__results").html('<h1 class="sr-only">Search Results</h1><p class="search__content">No results found</p>'),$(".search__sidebar").removeClass("visible"))})}jQuery(".drawer-open").click(function(e){e.preventDefault(),id=$(this).data("controls"),openDrawer($("#"+id))}),jQuery(".drawer-close").click(function(e){closeDrawer()}),jQuery(".drawer").keydown(function(e){trapEscapeKey($(this),e)}),jQuery(".drawer").keydown(function(e){trapTabKey($(this),e)}),jQuery("#overlay").click(function(e){closeDrawer()}),$("#query").on("keyup",delay(function(e){e.preventDefault(),search($("#header-search").serialize())},250)),$("#header-search").on("submit",function(e){e.preventDefault(),search($(this).serialize())}),$(document).on("click",".search__nav",function(e){e.preventDefault(),search($(this).attr("href").replace("?",""))}),$(document).on("click",".search__facet-link",function(e){e.preventDefault(),search($(this).attr("href").replace("?",""))}),$('[data-controls="#search"]').on("click",function(e){$("#query").val(""),$(".search__results").html(""),$(".search__sidebar").removeClass("visible"),$(".search__intro").show()}),$('a[href*="#"]').not('a[href="#"]').not('a[href="#0"]').not('a[class*=".tab__link"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);(a=a.length?a:$("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),$("html, body").animate({scrollTop:a.offset().top-60},1e3,function(){var e=$(a);if(e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()}))}});var h=document.querySelector("#header"),stuck=!1,stickPoint=getDistance();function getDistance(){return h.offsetTop}window.onscroll=function(e){if(document.querySelector(".header").classList.contains("homepage")){var a=getDistance()-window.pageYOffset,t=window.pageYOffset;a<0&&!stuck?(h.classList.add("header--fixed"),stuck=!0):stuck&&t<=stickPoint&&(h.classList.remove("header--fixed"),stuck=!1)}};var Tabs={init:function(){this.bindUIfunctions(),this.pageLoadCorrectTab()},bindUIfunctions:function(){$(document).on("click",".tabs a[href^='#']:not('.visible')",function(e){Tabs.changeTab(this.hash),e.preventDefault()}).on("click",".tabs a.visible",function(e){e.preventDefault()})},changeTab:function(e){var a=$('[href="'+e+'"]'),t=$(e),s=$('[data-toggle="'+e+'"]');a.addClass("visible").parent().siblings().find("a").removeClass("visible"),a.addClass("on").parent().siblings().find("a").removeClass("on"),s.addClass("on").parent().siblings().find("button").removeClass("on"),t.addClass("visible").siblings().removeClass("visible"),window.history.replaceState("","",e)},pageLoadCorrectTab:function(){""!=document.location.hash&&this.changeTab(document.location.hash)}};if(Tabs.init(),$(document).on("click","[data-toggle]",function(e){e.preventDefault();var a=$(this).data("toggle");$(a).toggleClass("visible"),$("[data-toggle="+a+"]").toggleClass("on")}),!detectmob()){var vid=$(".hero video");0<vid.length&&vid.html('<source src="'+vid.data("bgvideo")+'" type="video/mp4" />')}