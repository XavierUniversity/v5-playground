$("#all-button").click(function(){$(".select-box__container").addClass("academic-programs__visible"),$("h2").show(),$(".undergraduate-categories").hide(),$(".graduate-categories").hide()}),$("#undergrad-button").click(function(){$(".undergraduate-categories").show(),$(".graduate-categories").hide()}),$("#grad-button").click(function(){$(".undergraduate-categories").hide(),$(".graduate-categories").show()}),$("#undergrad-button, #grad-button").click(function(){$("[name=degree-radio]:checked").val();var e=$(this).data("degree");$(".select-box__container[data-degree!='"+e+"']").removeClass("academic-programs__visible"),$(".select-box__container[data-degree='"+e+"']").addClass("academic-programs__visible"),$("h2").show(),$(".select-box").each(function(e){0===$(this).children(".academic-programs__visible").length&&$(this).prev().hide()})}),$(".cats-btn-u").click(function(){var e=$(this).data("category");$(".select-box__container[data-category!='"+e+"'][data-degree='undergraduate']").removeClass("academic-programs__visible"),$(".select-box__container[data-category*='"+e+"'][data-degree='undergraduate']").addClass("academic-programs__visible"),$("h2").show(),$(".select-box").each(function(e){0===$(this).children(".academic-programs__visible").length&&$(this).prev().hide()})}),$(".cats-btn-g").click(function(){var e=$(this).data("category");$(".select-box__container[data-category!='"+e+"'][data-degree='graduate']").removeClass("academic-programs__visible"),$(".select-box__container[data-category*='"+e+"'][data-degree='graduate']").addClass("academic-programs__visible"),$("h2").show(),$(".select-box").each(function(e){0===$(this).children(".academic-programs__visible").length&&$(this).prev().hide()})}),$("#all-u-button").click(function(){$(".select-box__container[data-degree='undergraduate']").addClass("academic-programs__visible"),$("h2").show(),$(".select-box").each(function(e){0===$(this).children(".academic-programs__visible").length&&$(this).prev().hide()})}),$("#all-g-button").click(function(){$(".select-box__container[data-degree='graduate']").addClass("academic-programs__visible"),$("h2").show(),$(".select-box").each(function(e){0===$(this).children(".academic-programs__visible").length&&$(this).prev().hide()})});var insta=$("[data-image]").data("image");$.get("https://api.instagram.com/oembed?url="+insta+"&hidecaption=true&omitscript=true",function(e){var a=$("[data-image='"+insta+"']");console.log(a),a.css({"background-image":'url("'+e.thumbnail_url+'")',"background-size":"cover"}),a.find(".news--feature__content").attr("href",insta),a.find(".news--feature__name").html('<span class="news--feature__link"><img src="images/news/instagram.png" style="padding-right:.3rem;">'+e.author_name+"</span>"),a.find(".news--feature__caption").html(e.title)});var focusedElementBeforeModal,id,data,focusableElementsString="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";function trapEscapeKey(e,a){27==a.which&&(e.find("*").filter(".drawer-close").click(),a.preventDefault())}function trapTabKey(e,a){var t,s,r,n;9==a.which&&(t=e.find("*").filter(focusableElementsString).filter(":visible"),s=jQuery(":focus"),r=t.length,n=t.index(s),a.shiftKey?0===n&&(t.get(r-1).focus(),a.preventDefault()):n==r-1&&(t.get(0).focus(),a.preventDefault()))}function setFocusToFirstItem(e){var a=e.find("*");setTimeout(function(){a.filter(focusableElementsString).filter(":visible").first().focus()},250)}function openDrawer(e){"main-nav"==e.attr("id")&&jQuery("body").addClass("nav-open"),jQuery(e).addClass("visible"),jQuery(e).attr("aria-hidden",!1),jQuery("#content").attr("aria-hidden",!0),jQuery("body").on("focusin","#content",function(){setFocusToFirstItem(jQuery(e))}),$(".drawer").bind("mouseenter touchstart",function(e){var a=$(window).scrollTop();$(window).scroll(function(e){$(window).scrollTop(a)})}),focusedElementBeforeModal=jQuery(":focus"),setFocusToFirstItem(e)}function closeDrawer(){jQuery("body").removeClass("nav-open"),jQuery(".drawer").removeClass("visible"),jQuery(".drawer").attr("aria-hidden",!0),jQuery("#content").attr("aria-hidden",!1),jQuery("body").off("focusin","#content"),$(".drawer").bind("mouseleave touchend",function(e){$(window).off("scroll")}),focusedElementBeforeModal.focus()}jQuery(".drawer-open").click(function(e){e.preventDefault(),id=$(this).data("controls"),openDrawer($("#"+id))}),jQuery(".drawer-close").click(function(e){closeDrawer()}),jQuery(".drawer").keydown(function(e){trapEscapeKey($(this),e)}),jQuery(".drawer").keydown(function(e){trapTabKey($(this),e)}),jQuery("#overlay").click(function(e){closeDrawer()});var xhr=new XMLHttpRequest;function updateStat(e,a){var t=document.getElementById(e).childNodes[3],s=t.getAttribute("r");a<0&&(a=0),100<a&&(a=100);var r=(100-a)/100*(Math.PI*(2*s));t.style.strokeDashoffset=r,document.getElementById(e+"-cont").setAttribute("data-pct",a)}function arraySearch(e,a){for(var t=0;t<e.length;t++)if(e[t].Grouping.toLowerCase()===a.toLowerCase())return t;return!1}function loadData(e){var a=arraySearch(data,"all"==e?"all":e.target.value),t=data[a];updateStat("success",t["Success Rate"]),updateStat("employed",t.Employed),updateStat("continuing-ed",t["Grad School"]),updateStat("serving",t.Volunteering),updateData("employers",t["Top Employers"]),updateData("majors_list",t.Majors),updateData("jobs",t["Top Jobs"])}function escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function updateData(e,a){for(var t=document.getElementById(e),s="",r=7<(a=a.split(/(?:;)\s*/)).length?7:a.length,n=0;n<r;n++)if("majors_list"==e){var i=a[n];s+='<li><a href="'+i.match(/\(([^)]+)\)/)[1]+'">'+i.replace(/\(([^)]+)\)/,"")+"</a></li>"}else s+="<li>"+escapeHtml(a[n])+"</li>";"majors_list"==e&&(s+='<li><a id="view_all" href="/academics/undergraduate#show-programs"><strong>View all Majors</strong></a></li>'),t.innerHTML="<ul>"+s+"</ul>"}function delay(t,s){var r=0;return function(){var e=this,a=arguments;clearTimeout(r),r=setTimeout(function(){t.apply(e,a)},s||0)}}function searchArray(e,a,t){for(var s=0;s<t.length;s++)if(t[s][a]===e)return t[s]}function buildTabs(e,a){var t="";1<e.length&&($.each(e,function(e,a){t+='<li class="search__facet-item"><a class="search__facet-link'+(1==a.selected?" is-active":"")+'" href="'+a.toggleUrl+'">'+a.label+'</a><span class="search__facet-count">'+a.count+"</span></li>"}),$("#search-tabs").html(t))}function buildResult(e){var a=e.title.replace(" | Xavier University",""),t='<a href="https://search.xavier.edu'+e.clickTrackingUrl+'" class="search__result">',s="</a>",r='<span class="search__url">'+e.liveUrl+"</span>",n=e.summary,i="$open";i+='<h2 class="search__title">$title</h2>',i+='<p class="search__content">',i+="$liveUrl",i+='<span class="search__description">$description</span>',i+='<span class="search__tag">'+e.collection.replace("xavu-","")+"</span>",void 0!==e.metaData.stencilsCourseLevel&&(i+='<span class="search__tag">'+e.metaData.stencilsCourseLevel+"</span>"),i+="</p>$close";return"xavu-people"==e.collection&&(t='<div class="search__result">',s="</div>",r="",a='<a href="https://search.xavier.edu'+e.clickTrackingUrl+'">'+e.metaData.stencilsPeopleFirstName+"</a>",n='<img class="search__image" src="'+e.metaData.I+'" alt="" /><strong>'+e.metaData.stencilsPeoplePosition+'</strong><br /><a href="mailto:'+e.metaData.stencilsPeopleEmail+'@xavier.edu" class="search__contact">'+e.metaData.stencilsPeopleEmail+'@xavier.edu</a> <span class="search__contact">'+e.metaData.stencilsPeoplePhone+'</span><span class="search__contact">'+e.metaData.stencilsPeopleLocation+"</span>"),"xavu-programs"==e.collection&&(n=e.metaData.stencilsCourseDesc),i=(i=(i=(i=(i=i.replace("$open",t)).replace("$title",a)).replace("$liveUrl",r)).replace("$description",n)).replace("$close",s)}function search(e){var o="";$.ajax({url:"https://search.xavier.edu/s/search.json",method:"GET",data:e}).done(function(e,a){var t=searchArray("Tabs","name",e.response.facets),s=e.response.customData.stencilsPaging,r=e.response.resultPacket.resultsSummary,n=e.response.resultPacket.results;buildTabs(t.allValues),o+='<p class="search__count">Showing results '+r.currStart+"-"+r.currEnd+" out of "+r.totalMatching+" results for: <em>"+e.question.query+"</em></p>",$.each(n,function(e,a){o+=buildResult(a)});var i=null!==s.previousUrl?'<a href="'+s.previousUrl+'" class="search__nav" title="Previous page of search results">Previous</a>':"",c=null!==s.nextUrl?'<a href="'+s.nextUrl+'" class="search__nav" title="Next page of search results">Next</a>':"";1<(o+='<div class="search__nav-container">'+i+c+"</div>").length?($(".search__results").html('<h1 class="sr-only">Search Results</h1>'+o),$(".search__sidebar").addClass("visible"),$(".search__intro").hide()):($(".search__intro").show(),$(".search__results").html('<h1 class="sr-only">Search Results</h1><p class="search__content">No results found</p>'),$(".search__sidebar").removeClass("visible"))})}xhr.open("GET","https://www.xavier.edu/student-outcomes/custom/outcomes.read.php",!1),xhr.setRequestHeader("Content-Type","application/json"),xhr.onload=function(){200===xhr.status&&(data=JSON.parse(xhr.responseText)),document.getElementById("swapper").addEventListener("change",loadData),window.addEventListener("load",loadData("all"))},xhr.send(),$("#query").on("keyup",delay(function(e){e.preventDefault(),search($("#header-search").serialize())},250)),$("#header-search").on("submit",function(e){e.preventDefault(),search($(this).serialize())}),$(document).on("click",".search__nav",function(e){e.preventDefault(),search($(this).attr("href").replace("?",""))}),$(document).on("click",".search__facet-link",function(e){e.preventDefault(),search($(this).attr("href").replace("?",""))}),$('[data-controls="#search"]').on("click",function(e){$("#query").val(""),$(".search__results").html(""),$(".search__sidebar").removeClass("visible"),$(".search__intro").show()}),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);(a=a.length?a:$("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),$("html, body").animate({scrollTop:a.offset().top},1e3,function(){var e=$(a);if(e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()}))}});var h=document.querySelector("#header"),stuck=!1,stickPoint=getDistance();function getDistance(){return h.offsetTop}window.onscroll=function(e){if(document.querySelector(".header").classList.contains("homepage")){var a=getDistance()-window.pageYOffset,t=window.pageYOffset;a<0&&!stuck?(h.classList.add("header--fixed"),stuck=!0):stuck&&t<=stickPoint&&(h.classList.remove("header--fixed"),stuck=!1)}};var Tabs={init:function(){this.bindUIfunctions(),this.pageLoadCorrectTab()},bindUIfunctions:function(){$(document).on("click",".tabs a[href^='#']:not('.visible')",function(e){Tabs.changeTab(this.hash),e.preventDefault()}).on("click",".tabs a.visible",function(e){e.preventDefault()})},changeTab:function(e){var a=$('[href="'+e+'"]'),t=$(e),s=$('[data-toggle="'+e+'"]');a.addClass("visible").parent().siblings().find("a").removeClass("visible"),a.addClass("on").parent().siblings().find("a").removeClass("on"),s.addClass("on").parent().siblings().find("button").removeClass("on"),t.addClass("visible").siblings().removeClass("visible"),window.history.replaceState("","",e)},pageLoadCorrectTab:function(){this.changeTab(document.location.hash)}};Tabs.init(),$("[data-toggle]").on("click",function(e){e.preventDefault();var a=$(this).data("toggle");$(a).toggleClass("visible"),$("[data-toggle="+a+"]").toggleClass("on")});