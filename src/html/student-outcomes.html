<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Student Outcomes | Xavier University</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/main.css">
    <style>
      .hero{
        background-image: repeating-linear-gradient( 45deg, rgba(0, 0, 0, 0.20), transparent 2px, rgba(0, 0, 0, 0.20) 4px, transparent 4px ), url("images/outcomes/Outcomes_Hero_1x.png");
        background-image: repeating-linear-gradient( 45deg, rgba(0, 0, 0, 0.20), transparent 2px, rgba(0, 0, 0, 0.20) 4px, transparent 4px ), -webkit-image-set( url("images/outcomes/Outcomes_Hero_1x.png") 1x, url("images/outcomes/Outcomes_Hero_2x.png") 2x );
        background-image: repeating-linear-gradient( 45deg, rgba(0, 0, 0, 0.20), transparent 2px, rgba(0, 0, 0, 0.20) 4px, transparent 4px ), image-set( url("images/outcomes/Outcomes_Hero_2x.png") 1x, url("images/outcomes/Outcomes_Hero_2x.png") 2x );
      }
    </style>
  </head>
  <body>
    include "includes/header.accessibility.html"
    <header>
      <div class="header header--fixed" id="header">  
        include "includes/header.html"
      </div>
    </header>
    <!-- Add your site or application content here -->
    <main id="content">
     <section class="hero hero--large">
         <h1 class="hero__title hero--large__title">
             Student<br/>Outcomes
         </h1>
     </section>

     <div class="wrapper">
       <div class="centered">
          <h2 class="title text-center">lorem ipsum dolor</h2>
          <p class="text-center">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
       </div>
       
       <div class="outcomes">
         <div class="outcomes__title">
           <h3 class="outcomes__title--sub outcomes__title--bordered">Student Outcomes for 2019</h3> 
         </div>
         
         
         <form class="form outcomes__form">
           <label class="outcomes__title--sub" for="swapper">Available programs</label>
            <select class="form__select" id="swapper" name="swapper">
              <option value="all">All</option>
              <option value="art">Art</option>
              <option value="athletics">Athletics</option>
              <option value="business">Business</option>
              <option value="communication">Communication</option>
              <option value="education">Education</option>
              <option value="health">Health &amp; Medicine</option>
              <option value="honors">Honors</option>
              <option value="humanities">Humanities</option>
              <option value="language">Language &amp; International Affairs</option>
              <option value="politics">Politics</option>
              <option value="social">Social Impact</option>
              <option value="stem">STEM (Science, Technology, Engineering, Mathematics)</option>
              <option value="sustainability">Sustainability &amp; the Environment</option>
            </select>
         </form>
       </div>
       
       <div class="outcomes__stats flex">
         <div class="outcomes__info">
           <h3 class="outcomes__title--sub">Success Rate</h3>
            <div class="cont" data-pct="0" id="success-cont"><svg xmlns="http://www.w3.org/2000/svg" class="svg" height="200" id="success" version="1.1" viewport="0 0 100 100" width="200"> <circle cx="100" cy="100" fill="transparent" r="90" stroke-dasharray="565.48" stroke-dashoffset="0"/> <circle class="bar" cx="100" cy="100" fill="transparent" r="90" stroke-dasharray="565.48" stroke-dashoffset="0"/> </svg></div>
         </div>
         <div class="outcomes__info">
           <h3 class="outcomes__title--sub">Top Employers</h3>
           <div id="employers"></div>
         </div>
         <div class="outcomes__info">
           <h3 class="outcomes__title--sub">Top Jobs</h3>
           <div id="jobs"></div>
         </div>
       </div>
       <div class="spacer--64"></div>
      <div class="outcomes">
        <div class="outcomes__title">
          <h3 class="outcomes__title--sub outcomes__title--bordered">Success Rate Components</h3>
          <p>View <a href="#">Additional Information</a> from our Office of Institutional Research.</p>
          
          <div class="outcomes_stats flex">
            <div class="outcomes__info outcomes__info--nobg">
              <div class="cont" data-pct="0" id="employed-cont"><svg xmlns="http://www.w3.org/2000/svg" class="svg" height="200" id="employed" version="1.1" viewport="0 0 100 100" width="200"> <circle cx="100" cy="100" fill="transparent" r="90" stroke-dasharray="565.48" stroke-dashoffset="0"/> <circle class="bar" cx="100" cy="100" fill="transparent" r="90" stroke-dasharray="565.48" stroke-dashoffset="0"/> </svg></div>
              <p class="text-center">Employed</p>
            </div>

            <div class="outcomes__info outcomes__info--nobg">
              <div class="cont" data-pct="0" id="continuing-ed-cont"><svg xmlns="http://www.w3.org/2000/svg" class="svg" height="200" id="continuing-ed" version="1.1" viewport="0 0 100 100" width="200"> <circle cx="100" cy="100" fill="transparent" r="90" stroke-dasharray="565.48" stroke-dashoffset="0"/> <circle class="bar" cx="100" cy="100" fill="transparent" r="90" stroke-dasharray="565.48" stroke-dashoffset="0"/> </svg></div>
              <p class="text-center">Continuing Education</p>
            </div>

            <div class="outcomes__info outcomes__info--nobg">
              <div class="cont" data-pct="0" id="serving-cont"><svg xmlns="http://www.w3.org/2000/svg" class="svg" height="200" id="serving" version="1.1" viewport="0 0 100 100" width="200"> <circle cx="100" cy="100" fill="transparent" r="90" stroke-dasharray="565.48" stroke-dashoffset="0"/> <circle class="bar" cx="100" cy="100" fill="transparent" r="90" stroke-dasharray="565.48" stroke-dashoffset="0"/> </svg></div>
              <p class="text-center">Serving in the Military or a Volunteer Program</p>
            </div> 
          </div>  
        </div>
        <div class="outcomes__majors">
          <h3 class="outcomes__title--sub">Majors in this category</h3>
          <div id="majors_list"></div>
        </div>
      </div>
      <div class="spacer--64"></div>
      <hr />
      <div class="testimonial_wrapper flex"> 
        <div class="testimonials">
          <h2 class="testimonials__header">Fancy Headline About Our Testimonials</h2>
          <p class="testimonials__desc">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          <div class="testimonial__wrapper flex">
            <div class="testimonial">
              <div class="testimonial__content">
                <div class="testimonial__content--quotemark">(quote SVG)</div>
                <p class="testimonial__content--quote">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
                <p class="testimonial__content--name">Student Name</p>
                <p class="testimonial__content--attr">Class Year</p>
              </div>
            </div>
          
            <div class="testimonial">
              <div class="testimonial__content">
                <div class="testimonial__content--quotemark">(quote SVG)</div>
                <p class="testimonial__content--quote">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat</p>
                <p class="testimonial__content--name">Student Name</p>
                <p class="testimonial__content--attr">Class Year</p>
              </div>
            </div>
          
            <div class="testimonial">
              <div class="testimonial__content">
                <div class="testimonial__content--quotemark">(quote SVG)</div>
                <p class="testimonial__content--quote">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat</p>
                <p class="testimonial__content--name">Student Name</p>
                <p class="testimonial__content--attr">Class Year</p>
              </div>
            </div>
            
          </div>
        </div>
      </div> 
      <div class="spacer--64"></div>
    </div> <!-- wrapper -->
    include "includes/stats.html"
      <div class="spacer spacer--64"></div>
        include "includes/cdn.html"
      <div class="spacer spacer--64"></div>
    </main>
    <!-- End site or application content -->
    include "includes/footer.html"
    <script>
      var data;
      // Load the data....
      var xhr = new XMLHttpRequest();
      xhr.open('GET', 'https://www.xavier.edu/student-outcomes/custom/outcomes.read.php', false);
      xhr.setRequestHeader('Content-Type', 'application/json');
      xhr.onload = function(){
        if ( xhr.status === 200 ){
          data = JSON.parse(xhr.responseText);
        }
        document.getElementById("swapper").addEventListener("change", loadData);
        window.addEventListener("load", loadData("all"));
      };
      xhr.send();
      function updateStat(svgID, stat){
        var circle = document.getElementById(svgID);
        var bar = circle.childNodes[3];
        var r = bar.getAttribute('r');
        var c = Math.PI*(r*2);
        if ( stat < 0 ) stat = 0;
        if ( stat > 100 ) stat = 100;
        
        var pct = ((100-stat)/100)*c;
        bar.style.strokeDashoffset = pct;
        document.getElementById(svgID+"-cont").setAttribute('data-pct', stat); 
      }
      
      function arraySearch(arr, val){
        for ( var i=0; i<arr.length; i++)
          if ( arr[i]['Grouping'].toLowerCase() === val.toLowerCase())
            return i;
        return false;
      }
      
      function loadData(e){
        var i = ( e == "all" ? arraySearch(data, "all") : arraySearch(data, e.target.value) );
        var val = data[i];
        updateStat("success", val['Success Rate']);
        updateStat("employed", val['Employed']);
        updateStat("continuing-ed", val['Grad School']);
        updateStat("serving", val['Volunteering']);
        updateData("employers", val['Top Employers']);
        updateData("majors_list", val['Majors']);
        updateData("jobs", val['Top Jobs']);
      }
      function escapeHtml(unsafe) {
        return unsafe
             .replace(/&/g, "&amp;")
             .replace(/</g, "&lt;")
             .replace(/>/g, "&gt;")
             .replace(/"/g, "&quot;")
             .replace(/'/g, "&#039;");
      }
      
      function updateData(id, content){
        var div = document.getElementById(id);
        content = content.split(/(?:;)\s*/);
        var html = '';
        var size = ( content.length > 7 ? 7 : content.length);
        for ( var i = 0; i < size; i++ ){
          if ( id == "majors_list" ){
            var all = content[i];
            var link = all.match(/\(([^)]+)\)/)[1];
            var prog = all.replace(/\(([^)]+)\)/, '');
            html += '<li><a href="'+link+'">'+prog+'</a></li>';
          } else {
            html += "<li>"+ escapeHtml(content[i]) + "</li>";  
          }
        }
        if ( id == "majors_list" ){
          html += '<li><a id="view_all" href="/academics/undergraduate#show-programs"><strong>View all Majors</strong></a></li>';
        }
        div.innerHTML = "<ul>"+html+"</ul>";
      }
    </script>
  </body>
</html>